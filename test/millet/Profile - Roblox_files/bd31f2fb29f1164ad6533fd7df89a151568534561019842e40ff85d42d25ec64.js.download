var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(){var r={7308:function(e,t,r){var a={"./resources.js":9244};function n(e){e=s(e);return r(e)}function s(e){if(r.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(a)},n.resolve=s,(e.exports=n).id=7308},9503:function(e,t,r){var a={"./aliasesContainerController.js":192,"./changeAliasController .js":9935};function n(e){e=s(e);return r(e)}function s(e){if(r.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(a)},n.resolve=s,(e.exports=n).id=9503},5855:function(e,t,r){var a={"./aliasesContainerDirective.js":9029};function n(e){e=s(e);return r(e)}function s(e){if(r.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(a)},n.resolve=s,(e.exports=n).id=5855},6211:function(e,t,r){var a={"./contactsService.js":3694,"./friendsService.js":9021,"./layoutService.js":2487};function n(e){e=s(e);return r(e)}function s(e){if(r.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(a)},n.resolve=s,(e.exports=n).id=6211},1943:function(e,t,r){var a={"./directives/templates/aliasesContainer.html":2908,"./directives/templates/changeAliasModal.html":6111};function n(e){e=s(e);return r(e)}function s(e){if(r.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return Object.keys(a)},n.resolve=s,(e.exports=n).id=1943},726:function(e){function s(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(e){return e.split("/").pop().replace(".html","")}var t={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,t,a,n){return e.module(t,[]).run(["$templateCache",function(r){a&&a.keys().forEach(function(e){var t=s(o(e));r.put(t,a(e))}),n&&n.keys().forEach(function(e){var t=s(o(e));r.put(t,n(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=t},4631:function(e,t,r){"use strict";var a=r(792),n=r(5734),n=r.n(n)().module("aliases",["aliasesAppTemplates","modal"]).config(["languageResourceProvider",function(e){a.Lang.ProfileResources&&e.setLanguageKeysFromFile(a.Lang.ProfileResources)}]);t.Z=n},9244:function(e,t,r){"use strict";r.r(t);var a=r(792),r=r(4631),a={templateUrls:{aliasesContainer:"aliases-container"},httpUrlConfig:{getTags:{url:"".concat(a.EnvironmentUrls.contactsApi,"/v1/user/get-tags"),withCredentials:!0},setUserTag:{url:"".concat(a.EnvironmentUrls.contactsApi,"/v1/user/tag"),withCredentials:!0},getFriendsStatus:{url:"".concat(a.EnvironmentUrls.friendsApi,"/v1/users/{userId}/friends/statuses"),withCredentials:!0},getContactsMetadata:{url:"".concat(a.EnvironmentUrls.contactsApi,"/v1/contacts/metadata"),withCredentials:!0}},modals:{changeAlias:{templateUrl:"change-alias-modal",controllerName:"changeAliasController"}},maxCharactersForUserTag:20,friendsStatus:{friends:"Friends"},responseStatus:{moderated:"Moderated"}};r.Z.constant("aliasesResources",a),t.default=a},192:function(e,t,r){"use strict";r.r(t);var c=r(792),r=r(4631);function s(t,e){var r,a=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)),a}function u(a){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){var t,r;t=a,e=n[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function a(a,e,n,t,r,s,o,i,l){a.changeAlias=function(){var e=s.modals.changeAlias.templateUrl,t={layout:a.layout,library:a.library},t={animation:!1,templateUrl:e,controller:s.modals.changeAlias.controllerName,resolve:{injectedData:t}};c.EventStream.SendEvent("userTag","attempt",{userId:a.library.currentUserId,targetUserId:a.library.currentProfileUserId,alias:null}),o.open(t).result.then(function(){},function(){})},a.retrieveCurrentProfileUserId=function(){var e=t.location.pathname.match(/[0-9]+/);return e?e[0]:null},a.setup=function(){var e=parseInt(a.retrieveCurrentProfileUserId()),t=parseInt(c.CurrentUser.userId);a.layout=u({},r.aliasesLayout),a.layout.maxCharactersForUserTag=s.maxCharactersForUserTag,a.library=u({},r.defaultLibrary),a.library.currentProfileUserId=e,a.library.currentUserId=t,a.library.isProfileUserNotCurrentUser=t&&!isNaN(e)&&e!==t},a.init=function(){a.setup(),a.library.isProfileUserNotCurrentUser?i.getContactsMetaData().then(function(e){e=e.areAliasesEnabled,e=void 0!==e&&e;a.aliasesEnabled=e,a.aliasesEnabled&&l.getFriendsStatus(a.library.currentUserId,[a.library.currentProfileUserId]).then(function(e){if(n.isAliasesLoaded=!0,e&&e.data){var t,r=e.data;for(t in r)r[t].status===s.friendsStatus.friends&&(a.layout.isAliasesShown=!0);a.layout.isAliasesShown&&i.getUserTags(a.library.currentProfileUserId).then(function(e){e&&0<e.length&&e.forEach(function(e){e.targetUserId===a.library.currentProfileUserId&&(e=e.targetUserTag,a.library.currentUserTag=e,a.library.userTag=e)})})}},function(){n.isAliasesLoaded=!0})}).catch(function(){a.aliasesEnabled=!1}).finally(function(){n.isAliasesLoaded=!0}):n.isAliasesLoaded=!0},a.init()}a.$inject=["$scope","$log","$rootScope","$window","aliasesLayoutService","aliasesResources","$uibModal","contactsService","aliasesFriendsService"],r.Z.controller("aliasesContainerController",a),t.default=a},9935:function(e,t,r){"use strict";r.r(t);var a=r(5734),i=r.n(a),r=r(4631);function n(r,e,a,n,t,s,o){r.modalData=t,r.modalLayout=i().copy(s.changeAliasModalLayout),r.saveUserTag=function(){var e=r.modalData.library.currentProfileUserId,t=r.modalData.library.userTag;r.modalData.library.currentUserTag;a.setUserTag(e,t).then(function(){r.modalData.library.currentUserTag=r.modalData.library.userTag,n.dismiss()},function(e){var t;e&&e.data&&(t=e.data.status,e=r.modalLayout.setUserTagResponses,t===o.responseStatus.moderated&&(r.modalData.library.userTag="",r.modalLayout.displayError=e.moderationError)),r.modalLayout.isRequestFailed=!0})},r.close=function(){r.modalData.library.userTag=r.modalData.library.currentUserTag,n.dismiss()},r.resetInputStatus=function(){r.modalLayout.isRequestFailed=!1}}n.$inject=["$scope","$log","contactsService","$uibModalInstance","injectedData","aliasesLayoutService","aliasesResources"],r.Z.controller("changeAliasController",n),t.default=n},9029:function(e,t,r){"use strict";r.r(t);r=r(4631);function a(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.aliasesContainer}}a.$inject=["aliasesResources"],r.Z.directive("aliasesContainer",a),t.default=a},3694:function(e,t,r){"use strict";r.r(t);r=r(4631);function a(e,r,a,n){return{getContactsMetaData:function(){return r.httpGet(a.httpUrlConfig.getContactsMetadata,{})},getUserTags:function(e){e={targetUserIds:[e]};return r.httpPost(a.httpUrlConfig.getTags,e)},setUserTag:function(e,t){t={targetUserId:e,userTag:t};return r.httpPost(a.httpUrlConfig.setUserTag,t,!0).then(function(e){if(e.data&&e.data.status===a.responseStatus.moderated)return n.reject(e)})}}}a.$inject=["$log","httpService","aliasesResources","$q"],r.Z.factory("contactsService",a),t.default=a},9021:function(e,t,r){"use strict";r.r(t);r=r(4631);function a(a,n,s){return{getFriendsStatus:function(e,t){var r={userIds:t},t=n.httpUrlConfig.getFriendsStatus.url;return n.httpUrlConfig.getFriendsStatus.url=s("formatString")(t,{userId:e}),a.httpGet(n.httpUrlConfig.getFriendsStatus,r)}}}a.$inject=["httpService","aliasesResources","$filter"],r.Z.factory("aliasesFriendsService",a),t.default=a},2487:function(e,t,r){"use strict";r.r(t);r=r(4631);function a(e,t){return{defaultLibrary:{currentProfileUserId:0,currentUserTag:"",userTag:""},aliasesLayout:{label:t.get("Label.Alias"),changeAliasTile:t.get("Label.ChangeAlias"),changeAliasDescription:t.get("Description.ChangeAlias"),modalClose:t.get("Action.Close"),modalSave:t.get("Action.Save"),modalCancel:t.get("Label.Cancel"),isAliasesShown:!1},changeAliasModalLayout:{isRequestFailed:!1,displayError:t.get("Message.AliasHasError"),setUserTagResponses:{defaultError:t.get("Message.AliasHasError"),moderationError:t.get("Message.AliasIsModerated")}}}}a.$inject=["$log","languageResource"],r.Z.factory("aliasesLayoutService",a),t.default=a},2908:function(e){e.exports='<div class="border-top" ng-controller="aliasesContainerController" ng-show="layout.isAliasesShown"> <div class="user-tag-header"> <span class="font-header-2"> {{layout.label}} </span> <span class="cursor-pointer icon-edit user-tag-controller" ng-click="changeAlias()"></span> </div> <div class="font-header-2 text-subheader user-tag" ng-bind="library.currentUserTag"> </div> </div>'},6111:function(e){e.exports='<div id="change-alias" class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only">{{modalData.layout.modalClose}}</span> </button> <h5>{{modalData.layout.changeAliasTile}}</h5> </div> <form name="nameForm"> <div class="modal-body"> <div ng-class="{\'form-has-error\': modalLayout.isRequestFailed, \'form-has-feedback\': modalLayout.isRequestFailed }" class="form-change-alias"> <input type="text" focus-me="true" ng-model="modalData.library.userTag" maxlength="{{modalData.layout.maxCharactersForUserTag}}" class="form-control input-field" autocomplete="off" ng-change="resetInputStatus()"/> <div class="clearfix font-caption-body change-alias-feedback-container"> <p class="text-description font-caption-body"> {{modalData.layout.changeAliasDescription}} </p> <span class="count-down">{{modalData.library.userTag.length}}/{{modalData.layout.maxCharactersForUserTag}}</span> </div> <p ng-class="{\'invisible\': modalLayout.isRequestFailed }" class="font-caption-body form-control-feedback" ng-bind="modalLayout.displayError"></p> </div> </div> <div class="modal-footer"> <button class="btn-primary-md btn-min-width" ng-click="saveUserTag()"> {{modalData.layout.modalSave}} </button> <button class="btn-secondary-md btn-min-width" ng-click="close()"> {{modalData.layout.modalCancel}} </button> </div> </form> </div> '},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},a={};function n(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return r[e](t,t.exports,n),t.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(5734),t=n.n(e),r=n(726),a=n(4631);(0,r.importFilesUnderPath)(n(7308)),(0,r.importFilesUnderPath)(n(5855)),(0,r.importFilesUnderPath)(n(9503)),(0,r.importFilesUnderPath)(n(6211)),e=n(1943),(0,r.templateCacheGenerator)(t(),"aliasesAppTemplates",e),window.aliases=a.Z}()}();
//# sourceMappingURL=https://js.rbxcdn.com/ac5fd2d9fd823ec2819f-aliases.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Aliases");

}
/*
     FILE ARCHIVED ON 02:08:46 Jun 01, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:23:22 Jun 01, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  xauthn.identify: 203.95
  CDXLines.iter: 24.434 (3)
  PetaboxLoader3.datanode: 83.475 (5)
  captures_list: 489.872
  exclusion.robots: 375.46
  RedisCDXSource: 0.745
  exclusion.robots.policy: 375.442
  PetaboxLoader3.resolve: 81.885 (2)
  esindex: 0.016
  load_resource: 153.97 (2)
  xauthn.chkprivs: 171.131
  LoadShardBlock: 77.15 (3)
*/